<!DOCTYPE html>
<html>
<head>
	<link rel="stylesheet" href="css/global.css">
	<link rel="stylesheet" href="css/clip.css">
</head>
<body>
<div class="container">
	<video autoplay id="bgvid">
		<source id="sourceVid" src="" type="video/mp4">
	</video>
</div>
</body>

<script>
	const bgvid = document.querySelector('#bgvid');
	const sourceVid = document.querySelector('#sourceVid');

	bgvid.addEventListener('ended',function () {
		bgvid.classList.add('hidden');
	}, false);


	const clip = nodecg.Replicant('clip');
	nodecg.listenFor('startClip', () => {
		sourceVid.src = clip.value;

		bgvid.load();
		bgvid.classList.remove('hidden');
		bgvid.play();
	});

	nodecg.listenFor('stopClip', () => {
		bgvid.pause();
		bgvid.classList.add('hidden');
	});
</script>
</html>
