<!DOCTYPE html>
<html>
<head>
	<script src="https://player.twitch.tv/js/embed/v1.js"></script>
	<style>
		html,body {
			height:100%;
			background-color: transparent;
		}
		.container {
			overflow: hidden;
			height: 100%;
			color: white;
		}

		#gameSvg {
			position: absolute;
		}

		#gameName {
			position: absolute;
			left: 310px;
			top: 50px;
			font-size: 5em;
		}

		#gameCategory {
			position: absolute;
			left: 310px;
			top: 160px;
			font-size: 5em;
		}
	</style>
</head>
<body>
	<div class="container">
		<div id="gameInfos">
			<span id="gameSvg">
				<svg id="svgDisplay" viewBox="0,0,1000,1000" height="300" width="300">
					<path id="gameSvgPath" d=""  fill="#FFFFFF"/>
				</svg>
			</span>
			<span id="gameName"><b></b></span>
			<span id="gameCategory"><b></b></span>
		</div>
	</div>
</body>

<script>
	const svgDisplay = document.querySelector('#svgDisplay');
	const gameSvgPath = document.querySelector('#gameSvgPath');
	const gameName = document.querySelector('#gameName');
	const gameCategory = document.querySelector('#gameCategory');

	nodecg.listenFor('sendGameInfos', (game) => {
		svgDisplay.setAttribute('viewBox', '0,0,' + game.width + ',' + game.width);
		gameSvgPath.setAttribute('d', game.path);
		gameName.innerHTML = game.name;
		gameCategory.innerHTML = game.category;
	});
</script>
</html>
