<!DOCTYPE html>
<html>
<head>
	<script src="https://player.twitch.tv/js/embed/v1.js"></script>
	<style>
		body {
			background-image: url("../../../assets/players/images/UDmd00_BG_A_01.png");
			height:100%;
			background-repeat: no-repeat;
			overflow: hidden;
		}
		.container {
			overflow: hidden;
			height: 100%;
		}
	</style>
</head>
<body>
<div class="container">
</div>
</body>

<script>

	const backgrounds = nodecg.Replicant('assets:background');

	nodecg.listenFor('loadGame', async game => {
		let found = false;
		backgrounds.value.forEach(function (background) {
			if (game + background.ext == background.base) {
				document.body.style.backgroundImage = "url('" + background.url + "')";
				found = true;
			}
		})
		if (!found) {
			document.body.style.backgroundImage = "url('../../../assets/players/images/UDmd00_BG_A_01.png')";
		}
	});
</script>
</html>
